# finalpjt-jenkins

```ini
DB_USERNAME=parkings
DB_PASSWORD=parkings
DB_HOST=localhost
DB_PORT=3306
DB_NAME=parkings
DATABASE_URL=mysql+pymysql://parkings:parkings@192.168.56.150:3306/parkings
```

```sql
CREATE USER 'username'@'%' IDENTIFIED BY 'password'; 
GRANT ALL PRIVILEGES ON *.* TO 'username'@'%'; 
FLUSH PRIVILEGES;
```

```
vi /etc/mysql/mariadb.conf.d/50-server.cnf
--> bind-address            = 0.0.0.0
sudo systemctl restart mariadb
```

```sql
CREATE TABLE car (
	 pno INT AUTO_INCREMENT PRIMARY KEY,
	 cno VARCHAR(20) NOT NULL,
	 pname VARCHAR(30) NOT NULL,
	 ent VARCHAR(30) NOT NULL,
	 ent_time DATETIME DEFAULT CURRENT_TIMESTAMP,
	 checks VARCHAR(10) NOT NULL,
	 exit_time DATETIME,
	 ptime VARCHAR(40),
	 disc VARCHAR(30)
);


CREATE TABLE coupon (
	dno INT AUTO_INCREMENT PRIMARY KEY,
	cno VARCHAR(20),
	disc VARCHAR(30),
	disc_time VARCHAR(20),
	usec VARCHAR(3) DEFAULT 'n'
);

INSERT INTO car (cno, pname, ent, ent_time, checks, exit_time, ptime, disc)
VALUES
    ('123가5678', 'Owner-1', 'Entrance-1', '2024-05-01 08:00:00', 'Check-1', '2024-05-01 09:00:00', TIME_FORMAT(DATE_SUB('2024-05-01 09:00:00', INTERVAL TIMESTAMPDIFF(SECOND, '2024-05-01 08:00:00', '2024-05-01 09:00:00') SECOND), '%H:%i:%s'), 'Discount-1'),
    ('234라1234', 'Owner-2', 'Entrance-2', '2024-05-01 09:00:00', 'Check-2', '2024-05-01 10:00:00', 
     TIME_FORMAT(DATE_SUB('2024-05-01 10:00:00', INTERVAL TIMESTAMPDIFF(SECOND, '2024-05-01 09:00:00', '2024-05-01 10:00:00') SECOND), '%H:%i:%s'), 'Discount-2'),     
    ('345마2345', 'Owner-3', 'Entrance-3', '2024-05-01 10:00:00', 'Check-3', '2024-05-01 11:00:00', 
     TIME_FORMAT(DATE_SUB('2024-05-01 11:00:00', INTERVAL TIMESTAMPDIFF(SECOND, '2024-05-01 10:00:00', '2024-05-01 11:00:00') SECOND), '%H:%i:%s'), 'Discount-3'),     
    ('456바3456', 'Owner-4', 'Entrance-4', '2024-05-01 11:00:00', 'Check-4', '2024-05-01 12:00:00', 
     TIME_FORMAT(DATE_SUB('2024-05-01 12:00:00', INTERVAL TIMESTAMPDIFF(SECOND, '2024-05-01 11:00:00', '2024-05-01 12:00:00') SECOND), '%H:%i:%s'), 'Discount-4'),     
    ('567나4567', 'Owner-5', 'Entrance-5', '2024-05-01 12:00:00', 'Check-5', '2024-05-01 13:00:00', 
     TIME_FORMAT(DATE_SUB('2024-05-01 13:00:00', INTERVAL TIMESTAMPDIFF(SECOND, '2024-05-01 12:00:00', '2024-05-01 13:00:00') SECOND), '%H:%i:%s'), 'Discount-5'),     
    ('678다5678', 'Owner-6', 'Entrance-6', '2024-05-01 13:00:00', 'Check-6', '2024-05-01 14:00:00', 
     TIME_FORMAT(DATE_SUB('2024-05-01 14:00:00', INTERVAL TIMESTAMPDIFF(SECOND, '2024-05-01 13:00:00', '2024-05-01 14:00:00') SECOND), '%H:%i:%s'), 'Discount-6'),     
    ('789아6789', 'Owner-7', 'Entrance-7', '2024-05-01 14:00:00', 'Check-7', '2024-05-01 15:00:00', 
     TIME_FORMAT(DATE_SUB('2024-05-01 15:00:00', INTERVAL TIMESTAMPDIFF(SECOND, '2024-05-01 14:00:00', '2024-05-01 15:00:00') SECOND), '%H:%i:%s'), 'Discount-7'),     
    ('890사7890', 'Owner-8', 'Entrance-8', '2024-05-01 15:00:00', 'Check-8', '2024-05-01 16:00:00', 
     TIME_FORMAT(DATE_SUB('2024-05-01 16:00:00', INTERVAL TIMESTAMPDIFF(SECOND, '2024-05-01 15:00:00', '2024-05-01 16:00:00') SECOND), '%H:%i:%s'), 'Discount-8'),     
    ('901자8901', 'Owner-9', 'Entrance-9', '2024-05-01 16:00:00', 'Check-9', '2024-05-01 17:00:00', 
     TIME_FORMAT(DATE_SUB('2024-05-01 17:00:00', INTERVAL TIMESTAMPDIFF(SECOND, '2024-05-01 16:00:00', '2024-05-01 17:00:00') SECOND), '%H:%i:%s'), 'Discount-9'),     
    ('012하9012', 'Owner-10', 'Entrance-10', '2024-05-01 17:00:00', 'Check-10', '2024-05-01 18:00:00', 
     TIME_FORMAT(DATE_SUB('2024-05-01 18:00:00', INTERVAL TIMESTAMPDIFF(SECOND, '2024-05-01 17:00:00', '2024-05-01 18:00:00') SECOND), '%H:%i:%s'), 'Discount-10');    

INSERT INTO coupon (cno, disc, disc_time, usec)
VALUES ('123가5678', '10% 할인', '2024-02-01 12:00:00', 'n'),
       ('234라1234', '완전 무료', '2024-02-01 12:00:00', 'n'),
       ('123가5678', '완전 무료', '2024-02-03 15:30:00', 'n'),
       ('123가5678', '2시간 무료', '2024-02-05 09:45:00', 'y'),
       ('234라1234', '1시간 무료', '2024-02-10 14:20:00', 'n'),
       ('456바3456', '1시간 무료', '2024-02-15 11:10:00', 'y'),
       ('123가5678', '2시간 무료', '2024-02-20 16:40:00', 'n'),
       ('234라1234', '2시간 무료', '2024-02-25 08:30:00', 'y'),
       ('234라1234', '1시간 무료', '2024-03-02 13:15:00', 'n'),
       ('234라1234', '완전 무료', '2024-03-05 10:00:00', 'n'),
       ('234라1234', '완전 무료', '2024-03-10 17:25:00', 'n'),
       ('234라1234', '완전 무료', '2024-03-15 14:55:00', 'n'),
       ('234라1234', '완전 무료', '2024-03-20 09:30:00', 'y'),
       ('234라1234', '완전 무료', '2024-03-25 11:40:00', 'y'),
       ('345마2345', '완전 무료', '2024-03-30 16:20:00', 'y'),
       ('234라1234', '1시간 무료', '2024-04-02 08:50:00', 'y'),
       ('123가5678', '1시간 무료', '2024-04-07 10:35:00', 'n'),
       ('123가5678', '2시간 무료', '2024-04-12 14:15:00', 'n'),
       ('234라1234', '1시간 무료', '2024-04-17 17:30:00', 'y'),
       ('123가5678', '1시간 무료', '2024-04-22 09:20:00', 'y'),
       ('123가5678', '1시간 무료', '2024-04-21 12:45:00', 'y'),
       ('345마2345', '완전 무료', '2024-04-02 15:55:00', 'n'),
       ('234라1234', '1시간 무료', '2024-04-07 08:10:00', 'n'),
       ('123가5678', '1시간 무료', '2024-04-12 11:00:00', 'y'),
       ('123가5678', '1시간 무료', '2024-04-17 13:20:00', 'y'),
       ('567나4567', '2시간 무료', '2024-04-22 16:00:00', 'n'),
       ('123가5678', '1시간 무료', '2024-04-27 09:45:00', 'y'),
       ('456바3456', '완전 무료', '2024-04-01 11:30:00', 'n'),
       ('123가5678', '1시간 무료', '2024-04-06 14:50:00', 'n'),
       ('123가5678', '2시간 무료', '2024-04-11 17:15:00', 'n'),
       ('123가5678', '1시간 무료', '2024-04-16 08:40:00', 'n'),
       ('678다5678', '1시간 무료', '2024-04-21 10:20:00', 'n'),
       ('234라1234', '완전 무료', '2024-04-26 13:00:00', 'y'),
       ('123가5678', '1시간 무료', '2024-04-01 15:45:00', 'n'),
       ('234라1234', '1시간 무료', '2024-04-06 09:10:00', 'n'),
       ('456바3456', '완전 무료', '2024-04-11 11:55:00', 'y'),
       ('123가5678', '완전 무료', '2024-04-16 14:35:00', 'y'),
       ('123가5678', '완전 무료', '2024-04-21 17:00:00', 'y'),
       ('123가5678', '2시간 무료', '2024-04-26 08:15:00', 'y'),
       ('567나4567', '완전 무료', '2024-04-31 10:30:00', 'y'),
       ('123가5678', '1시간 무료', '2024-04-04 13:20:00', 'n'),
       ('123가5678', '1시간 무료', '2024-04-10 16:10:00', 'n'),
       ('234라1234', '1시간 무료', '2024-04-15 09:25:00', 'y'),
       ('123가5678', '완전 무료', '2024-04-20 11:40:00', 'y'),
       ('123가5678', '완전 무료', '2024-04-25 14:20:00', 'y'),
       ('456바3456', '완전 무료', '2024-04-30 17:05:00', 'y'),
       ('234라1234', '완전 무료', '2024-04-04 08:45:00', 'n'),
       ('123가5678', '1시간 무료', '2024-04-09 10:55:00', 'n'),
       ('123가5678', '1시간 무료', '2024-04-14 13:25:00', 'n'),
       ('123가5678', '1시간 무료', '2024-04-19 16:15:00', 'y' ),
       ('123가5678', '2시간 무료', '2024-04-24 09:30:00', 'n'),
       ('234라1234','완전 무료','2024-04-30 12:00:00','n'),
       ('123가5678','완전 무료','2024-04-30 15:30:00','n'),
       ('123가5678','2시간 무료','2024-04-30 09:45:00','n'),
       ('234라1234','1시간 무료','2024-04-30 14:20:00','y' ),
       ('456바3456','1시간 무료','2024-04-30 11:10:00','n'),
       ('123가5678','2시간 무료','2024-04-30 16:40:00','n'),
       ('234라1234','2시간 무료','2024-04-30 08:30:00','n'),
       ('234라1234','1시간 무료','2024-04-30 13:15:00','y' ),
       ('234라1234','완전 무료','2024-04-30 10:00:00','y' ),
       ('234라1234','완전 무료','2024-04-30 17:25:00','y' ),
       ('234라1234','완전 무료','2024-04-30 14:55:00','n'),
       ('234라1234','완전 무료','2024-04-30 09:30:00','y' ),
       ('234라1234','완전 무료','2024-04-30 11:40:00','n'),
       ('345마2345','완전 무료','2024-04-30 16:20:00','y' ),
       ('234라1234','1시간 무료','2024-04-30 08:50:00','n'),
       ('123가5678','1시간 무료','2024-04-30 10:35:00','y' ),
       ('123가5678','2시간 무료','2024-04-30 14:15:00','n'),
       ('234라1234','1시간 무료','2024-04-30 17:30:00','n'),
       ('123가5678','1시간 무료','2024-04-30 09:20:00','n'),
       ('123가5678','1시간 무료','2024-04-30 12:45:00','y' ),
       ('345마2345','완전 무료','2024-04-30 15:55:00','y' ),
       ('234라1234','1시간 무료','2024-04-30 08:10:00','y' ),
       ('123가5678','1시간 무료','2024-04-30 11:00:00','n'),
       ('123가5678','1시간 무료','2024-04-30 13:20:00','n'),
       ('567나4567','2시간 무료','2024-04-30 16:00:00','n'),
       ('123가5678','1시간 무료','2024-04-30 09:45:00','y' ),
       ('456바3456','완전 무료','2024-04-30 11:30:00','y' ),
       ('123가5678','1시간 무료','2024-04-30 14:50:00','y' ),
       ('123가5678','2시간 무료','2024-04-30 17:15:00','y' ),
       ('123가5678','1시간 무료','2024-04-30 08:40:00','y' ),
       ('678다5678','1시간 무료','2024-04-30 10:20:00','n'),
       ('234라1234','완전 무료','2024-04-30 13:00:00','n'),
       ('123가5678','1시간 무료','2024-04-30 15:45:00','y' ),
       ('234라1234','1시간 무료','2024-04-30 09:10:00','y' ),
       ('456바3456','완전 무료','2024-04-30 11:55:00','y' ),
       ('123가5678','완전 무료','2024-04-30 14:35:00','y' ),
       ('123가5678','완전 무료','2024-04-30 17:00:00','y' ),
       ('123가5678','2시간 무료','2024-04-30 08:15:00','y' ),
       ('567나4567','완전 무료','2024-04-30 10:30:00','y' ),
       ('123가5678','1시간 무료','2024-04-30 13:20:00','y' ),
       ('123가5678','1시간 무료','2024-04-30 16:10:00','y' ),
       ('234라1234','1시간 무료','2024-04-30 09:25:00','y' ),
       ('123가5678','완전 무료','2024-04-30 11:40:00','y' ),
       ('123가5678','완전 무료','2024-04-30 14:20:00','y' ),
       ('456바3456','완전 무료','2024-04-30 17:05:00','y' ),
       ('234라1234','완전 무료','2024-04-30 08:45:00','y' ),
       ('123가5678','1시간 무료','2024-04-30 10:55:00','y' ),
       ('123가5678','1시간 무료','2024-04-30 13:25:00','y' ),
       ('123가5678','1시간 무료','2024-04-30 16:15:00','y' ),
       ('123가5678','2시간 무료','2024-04-30 09:30:00','y' );
```

```
mk create secret generic finalpjt-secret --from-env-file=.env --namespace hello
mk delete secret generic finalpjt-secret --namespace hello
```

